@inject IJSRuntime JS

<label>Click the Spheres to select them. InsideWebView2: @(DisplyBool(_isWebView))</label>
<label>SupportsWebGPU: @(DisplyBool(_startEngineResult?.WebGpuSupported)) WebGPUUsed: @(DisplyBool(_startEngineResult?.WebGpuUsed)) </label>
<div style="width: 100%; height: 98vh">
    <Scene EngineStarted="@OnEngineStarted"></Scene>
</div>

@code {
    private bool? _isWebView = null;

    private UsedEngineInfo? _startEngineResult = null;

    private void OnEngineStarted(UsedEngineInfo startEngineResult)
    {
        _startEngineResult = startEngineResult;
        StateHasChanged();
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if(firstRender)
        {
            _isWebView = await JS.InvokeAsync<bool>("getIsWebView");
        }
    }

    private string DisplyBool(bool? b) => b == true ? "Yes" : b == false ? "No" : "Loading...";
}