@inject IJSRuntime JsRuntime

<canvas class="render-canvas" @ref="_canvasRef">

</canvas>

@code {
    private ElementReference _canvasRef;

    [Parameter]
    public EventCallback<StartEngineResult> EngineStarted { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            StartEngineResult result = await JsRuntime.InvokeAsync<StartEngineResult>("BabylonRenderer.startEngineStatic", new Object[] { _canvasRef });
            if(EngineStarted.HasDelegate)
            {
                await EngineStarted.InvokeAsync(result);
            }
        }
    }
}


